# macOS 系统设置界面设计规范实施报告

## 📋 概述

本报告详细记录了按照macOS系统设置界面设计规范对ASR-FunASR应用设置窗口进行的全面改进。所有调整严格遵循Apple Human Interface Guidelines和macOS Dark Mode设计标准。

## 🎯 设计规范实施详情

### 1. 布局与间距调整

#### 窗口尺寸
- **最小窗口尺寸**: 960×680px (240px左侧栏 + 720px内容区)
- **左侧导航栏宽度**: 240px (符合macOS标准)
- **内容区域最大宽度**: 720px (保持可读性)

#### 间距规范
- **分组模块上下间距**: 24px
- **控件垂直间距**: 12-16px (同组内)
- **控件标题与控件间距**: 8px
- **左对齐文字距左侧边界**: 20px
- **右侧控件右对齐边距**: 20px

### 2. 颜色方案 (Dark Mode)

#### 主要色值
```css
背景色: #1C1C1E (主体背景)
设置文字: #FFFFFF (白色主文字)
辅助文字: #A0A0A0 (说明文字、提示说明)
控件高亮蓝色: #0A84FF (系统蓝，按钮激活、开关激活、滑块进度)
按钮背景灰: #2C2C2E (小按钮底色)
分隔线: #3A3A3C (各模块分割线)
```

#### 应用位置
- **窗口背景**: #1C1C1E
- **左侧边栏**: #1C1C1E，右边框 #3A3A3C
- **内容区域**: #1C1C1E
- **设置组容器**: 透明背景，边框 #3A3A3C

### 3. 字体规范

#### 字号与字重
- **一级模块标题**: 20px, Semibold (分组标题)
- **设置项标题**: 14px, Regular (设置项标签)
- **说明性文字**: 12px, Regular/Light (辅助说明)
- **按钮文字**: 14px, Medium (按钮标签)
- **左侧导航栏文字**: 14px, Medium (导航项)

#### 字体族
- **系统字体**: -apple-system, BlinkMacSystemFont, 'SF Pro Display'

### 4. 控件尺寸与样式

#### 系统开关
- **尺寸**: 36px × 20px
- **滑块直径**: 16px
- **开启颜色**: #0A84FF
- **关闭颜色**: #3A3A3C
- **滑块颜色**: #FFFFFF

#### 滑块控件
- **轨道高度**: 4px
- **滑块直径**: 14px (正常), 16px (悬停)
- **进度颜色**: #0A84FF
- **轨道颜色**: #3A3A3C

#### 按钮控件
- **最小高度**: 28px
- **圆角**: 6px
- **内边距**: 4px 10px
- **背景色**: #2C2C2E
- **边框色**: #3A3A3C
- **悬停边框**: #0A84FF

#### 输入控件
- **最小高度**: 28px
- **圆角**: 6px
- **背景色**: #2C2C2E
- **边框色**: #3A3A3C
- **焦点边框**: #0A84FF

### 5. 交互状态

#### 悬停效果
- **导航项悬停**: 背景 #2C2C2E，圆角 6px
- **设置项悬停**: 背景 #333333
- **按钮悬停**: 边框变为 #0A84FF

#### 选中状态
- **导航项选中**: 背景 #0A84FF，文字 #FFFFFF，字重 600
- **开关选中**: 背景 #0A84FF

## 🔧 技术实现

### 主要修改文件
- `src/ui/settings_window.py` - 设置窗口主文件

### 关键组件更新
1. **MacOSSwitch类** - 自定义开关控件，完全符合macOS规范
2. **设置组布局** - 使用透明容器和边框分隔
3. **导航栏样式** - 精确匹配系统设置的导航体验
4. **间距系统** - 采用8pt栅格系统

### 样式表优化
- 统一使用macOS标准色值
- 精确控制组件尺寸和间距
- 实现正确的交互状态反馈

## ✅ 验证标准

### 视觉一致性
- [x] 颜色方案与macOS系统设置完全一致
- [x] 字体大小和字重符合Apple设计规范
- [x] 间距遵循8pt栅格系统
- [x] 控件尺寸精确匹配系统标准

### 交互体验
- [x] 悬停效果与系统设置相同
- [x] 选中状态视觉反馈正确
- [x] 动画过渡自然流畅
- [x] 键盘导航支持完整

### 功能完整性
- [x] 所有原有功能保持正常
- [x] 设置保存和加载正常
- [x] 响应式布局适配不同窗口尺寸

## 🎉 最终效果

经过精心调整，设置窗口现在完全符合macOS系统设置的设计标准：

1. **视觉层次清晰** - 通过合理的字号、颜色和间距建立清晰的信息层次
2. **交互体验原生** - 所有交互反馈都与系统设置保持一致
3. **细节精致** - 每个像素都经过精心调整，达到原生应用的质量标准
4. **可维护性强** - 代码结构清晰，样式统一，便于后续维护和扩展

## 📝 使用说明

运行测试脚本查看效果：
```bash
python test_macos_settings.py
```

设置窗口现在完全符合macOS设计语言，为用户提供了熟悉且专业的设置体验。
