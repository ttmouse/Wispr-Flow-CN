# FunASR 语音转文字项目进展

## 项目概述
基于 FunASR 的本地化语音转文字工具，提供便捷的桌面端语音识别功能。

## 功能实现进度

### 2024-01-01 04:10:18
- [x] 功能优化
  - 修复历史记录重复添加问题
  - 优化剪贴板操作，解决首次粘贴失败问题
  - 改进状态显示，减少文本闪动
  - 使用 pynput 替代 pyautogui，提升跨平台兼容性

### 2024-01-01 03:50:18
- [x] UI 优化
  - 添加左侧历史记录面板，支持最近10条记录
  - 分离状态显示和时长显示
  - 优化状态面板布局
  - 添加开始录音音效提示
  - 点击历史记录可直接粘贴到当前应用

- [x] 状态管理优化
  - 改进状态显示逻辑
  - 优化控制台日志输出
  - 修复线程相关问题
  - 添加详细的日志记录

### 2024-01-01 03:30:18
- [x] 核心功能
  - 语音识别引擎集成 (funasr_engine.py)
  - 音频捕获实现 (audio_capture.py)
  - 全局热键支持 (hotkey_manager.py)
  - 剪贴板管理 (clipboard_manager.py)

- [x] 用户界面
  - 系统托盘集成
  - 设置界面
  - 状态提示

- [x] 系统集成
  - macOS 应用打包
  - 权限管理
  - 模型自动下载

- [x] 开发支持
  - 构建脚本 (build_app.py)
  - 预构建检查 (pre_build_check.py)
  - 依赖管理
  - 错误处理和日志系统

## 待优化项目
1. 性能优化
2. 用户界面美化
3. 更多语音识别模型支持
4. 跨平台兼容性提升

## 技术栈
- Python
- FunASR
- PyInstaller
- macOS API 集成 

## 任务清单
[x] 在语音录音的过程中增加一个状态，来实时的表示正在持续录音中
⏺️  录音中.               ⏺️  录音中..            ⏺️  录音中...
⏺️  录音完成 (1.5秒)

[x] 启动录制的时候，会播放一个音效，表示开始录制。

[ ] 帮我发布到github里面开源。
[x] UI 界面优化，支持最近 10 条记录，点击实现黏贴到当前激活的应用。
[x] 点击历史记录，不应该增加历史记录。
[x] 界面里面仅保留历史记录的列表就好了，不需要单独的预览区。
[x] 实现macOS 的状态栏
[ ] deepseek-chat 的模型支持
[ ] 实现macOS 的状态栏的菜单需要实现 清空历史记录。
[ ] 录制按钮录制的的时候，需要显示一个正在录音的动画。缩放。
关闭按钮的图标不是方形，需要更靠右一些。

