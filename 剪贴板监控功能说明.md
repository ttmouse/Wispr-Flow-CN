# 剪贴板监控功能说明

## 功能概述

剪贴板监控窗口是一个独立的桌面工具，用于实时监控和显示系统剪贴板的内容变化。

## 主要特性

### 🔍 实时监控
- 每500毫秒自动检查剪贴板内容变化
- 实时显示剪贴板内容和更新时间
- 显示内容长度统计

### 🪟 独立窗口
- 无边框设计，现代化界面
- 窗口置顶显示，方便监控
- 可拖动标题栏移动窗口位置
- 自定义标题栏，包含最小化和关闭按钮

### 📋 剪贴板操作
- **清空显示**: 清空当前显示内容
- **复制内容**: 重新复制当前剪贴板内容
- **手动刷新**: 手动更新剪贴板内容显示

### ⌨️ 快捷键支持
- `Ctrl+R`: 手动刷新剪贴板内容
- `Ctrl+C`: 复制当前剪贴板内容
- `Escape`: 关闭监控窗口

## 使用方法

### 1. 打开剪贴板监控窗口

有两种方式可以打开剪贴板监控窗口：

#### 方式一：通过系统托盘菜单
1. 在系统托盘中找到 Dou-flow 应用图标
2. 右键点击图标打开菜单
3. 选择 "剪贴板监控" 菜单项
4. 剪贴板监控窗口将会显示在桌面上

#### 方式二：独立运行（测试用）
```bash
cd /Users/douba/Downloads/GPT插件/ASR-FunASR
python test_clipboard_monitor.py
```

### 2. 监控剪贴板内容

窗口打开后，会自动开始监控剪贴板：
- 当剪贴板内容发生变化时，窗口会自动更新显示
- 状态栏会显示最后更新时间和内容长度
- 内容区域会显示完整的剪贴板文本

### 3. 窗口操作

- **移动窗口**: 拖动标题栏可以移动窗口位置
- **最小化**: 点击标题栏的 "−" 按钮
- **关闭窗口**: 点击标题栏的 "×" 按钮或按 `Escape` 键

## 界面说明

### 标题栏
- 📋 剪贴板监控器 - 窗口标题
- "−" 按钮 - 最小化窗口
- "×" 按钮 - 关闭窗口

### 状态栏
显示监控状态信息：
- 最后更新时间（HH:MM:SS 格式）
- 剪贴板内容长度（字符数）
- 错误信息（如果有）

### 内容显示区
- 显示完整的剪贴板文本内容
- 使用等宽字体，便于阅读代码和格式化文本
- 自动滚动到最新内容

### 操作按钮
- **清空显示**: 清空内容显示区域
- **复制内容**: 重新复制当前剪贴板内容
- **手动刷新**: 立即检查并更新剪贴板内容
- **关闭**: 关闭监控窗口

## 技术特性

### 兼容性
- 支持 macOS 系统
- 集成系统剪贴板管理器
- 使用 PyQt6 构建现代化界面

### 性能优化
- 轻量级设计，占用资源少
- 高效的剪贴板检测机制
- 优化的UI更新策略

### 安全性
- 只读取剪贴板内容，不会修改
- 本地运行，不会上传数据
- 支持调试模式，便于问题排查

## 注意事项

1. **权限要求**: 应用需要访问剪贴板的权限
2. **性能影响**: 监控功能会定期检查剪贴板，对系统性能影响极小
3. **内容安全**: 剪贴板内容可能包含敏感信息，请注意使用环境
4. **窗口管理**: 窗口设置为置顶显示，可能会遮挡其他应用

## 故障排除

### 窗口无法打开
- 检查应用是否正常运行
- 确认系统权限设置
- 查看控制台错误信息

### 内容不更新
- 点击 "手动刷新" 按钮
- 使用 `Ctrl+R` 快捷键刷新
- 重新打开监控窗口

### 界面显示异常
- 检查系统字体设置
- 重启应用程序
- 确认 PyQt6 版本兼容性

---

**版本**: 1.0.0  
**更新时间**: 2025-01-22  
**兼容系统**: macOS 10.14+